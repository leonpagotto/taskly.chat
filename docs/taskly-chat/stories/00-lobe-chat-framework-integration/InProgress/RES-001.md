---
id: RES-001
title: Research Lobe Chat Distribution & Licensing
status: InProgress
responsibleArea: Full-stack Software Engineer
---
Objectives:
- Confirm package name(s) or git integration strategy.
- Verify license compatibility.
- Identify core modules needed (chat UI, state, plugin system?).
- Note any peer dependency requirements.

## Findings
- License: Apache 2.0 (compatible with our intended usage & redistribution via adaptation, requires NOTICE if distributing modified code).
- Monorepo architecture with multiple packages (e.g., `model-bank`, `model-runtime`, `const`, `types`). No single published `lobe-chat` package visible in npm (our earlier install failure confirmed).
- Core web app uses Next.js with custom webpack config and many internal path aliases (`@/` referencing root `src`).
- Provides pluggable model provider system and plugin manifest tooling; heavier than our initial needs.
- Desktop variant via Electron (not needed now).

## Integration Options
1. Shallow Embed (Recommended Phase 0): Do NOT clone entire repo; instead replicate only needed UI/chat session primitives by consuming source selectively (manual vendor of minimal component set) – risk: maintenance overhead.
2. Git Submodule / Git Dependency: Add `lobehub/lobe-chat` as a git dependency and import internal packages directly (may require enabling Next.js transpile + path rewrites). Risk: internal APIs unstable.
3. Abstraction Layer Only: Keep our current lightweight `ChatShell` and emulate required extension points—then revisit after MVP for richer features.

Chosen Initial Approach: Start with Option 3 (current prototype) while preparing adapter shape so that Option 2 can replace internals later without touching domain code.

## Next Steps
- Define adapter interface (messages in/out, systemPrompt injection, taskDraft hook).
- Create `@taskly/integration` placeholder implementing these contracts with current `ChatShell`.
- Revisit after MVP to evaluate cost/benefit of deeper Lobe adoption.
