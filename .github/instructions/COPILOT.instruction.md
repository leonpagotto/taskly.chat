# Copilot Instructions for Taskly.chat Blueprint

This document provides context for AI assistants like GitHub Copilot to better understand the project goals and architecture.

## Project Summary
Taskly.chat is an AI-powered personal assistant, initially leveraging Gemini models and later allowing users to integrate their own AI API keys via a cheap subscription, designed to seamlessly blend conversation, local persistent memory, and intelligent automation with extensive user customization for rules and triggers. It helps users capture, structure, and accomplish everything that matters with enhanced privacy and control, adhering to standard required data privacy and security. Serving as a central hub for both personal and professional tasks, it integrates with popular tools like Google Calendar, Outlook, Slack, Trello, and Asana. Breaking away from traditional rigid productivity tools, Taskly.chat enables natural language interaction, personalized assistance through locally-managed memory, and instruction-driven behavior, ultimately making productivity effortless and meaningful. Taskly.chat will employ a flexible monetization strategy, including a Free tier for basic use, a "Cheap AI Tier" for price-sensitive users needing unlimited lightweight AI, a "Pro Tier" for advanced AI models and collaboration, and a "One-Time Fee Tier" for non-subscription users, alongside an Enterprise option and add-ons. This approach aims to capture a broad user base, from students and hobbyists to power users and enterprises, accessible initially as a web app (mobile-first design) and a desktop app, with Android and iOS versions planned for later release.

## Architecture
Taskly.chat will employ a modular, multi-tier architecture to support its diverse features, multi-platform presence, and flexible monetization strategy. The frontend will consist of a Web Application (mobile-first design) and a Desktop Application (Electron-based), both built using the Lobe-chat framework for a consistent conversational UI. These clients will manage local persistent memory using client-side storage mechanisms (e.g., IndexedDB, SQLite for Electron) to ensure user privacy and control. A robust backend will provide core services including an API Gateway, User Management, AI Integration, Third-Party Integration, and an Automation Engine. The AI Integration Service will initially proxy requests to Gemini models and later facilitate the use of user-provided AI API keys. The Third-Party Integration Service will handle OAuth flows and data synchronization with external tools. A dedicated Subscription & Billing Service will manage the various monetization tiers (Free, Cheap AI, Pro, One-Time Fee, Enterprise) and add-ons. Server-side data will be stored in a cloud-based database for user profiles, subscription data, and encrypted integration credentials, while personal memory will remain client-local. The infrastructure will be cloud-native, designed for scalability and high availability, utilizing containerization for deployment.

## Tech Stack
Frontend (Web & Desktop): React/Next.js (leveraging Lobe-chat framework), Electron (for desktop app). Programming Language (Backend): TypeScript with Node.js. Backend Framework: NestJS. Databases: PostgreSQL (for server-side relational data), IndexedDB/SQLite (for client-side local persistent memory). AI Models: Gemini API (initial), integration with other LLM APIs (e.g., OpenAI, Anthropic) for user-provided keys. Cloud Platform: AWS (or GCP/Azure) for backend services, S3/CDN for frontend assets. Authentication: OAuth2, JWT. Payment Gateway: Stripe/Paddle. Containerization: Docker, Kubernetes. Version Control: Git.

## Project Structure (File-Based)

This project's data is stored in a structured directory format, making it portable and Git-friendly. The main project folder is `docs/taskly-chat-blueprint`.

- **`project-version.json`**: Contains top-level metadata: the project specification, constitution, architecture, and tech stack.
- **`stories/`**: This directory contains a subdirectory for each user story.
- **`.../[story-name]/story.md`**: The markdown file for a specific story, containing its title, description, and priority in YAML frontmatter.
- **`.../[story-name]/[status]/[task-id].md`**: Each task is a markdown file within a status folder (e.g., `Backlog`, `InProgress`). The file contains task details in its frontmatter and description.
